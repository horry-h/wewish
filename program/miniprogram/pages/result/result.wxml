<!--pages/result/result.wxml-->
<view class="result-container">
  <!-- é¡¶éƒ¨æ“ä½œæ  -->
  <view class="top-bar">
    <view class="back-btn" bindtap="onBackTap">
      <text class="icon">â†</text>
      <text>è¿”å›</text>
    </view>
    <view class="share-btn" bindtap="onShareTap">
      <text>åˆ†äº«</text>
      <text class="icon">â†’</text>
    </view>
  </view>

  <!-- è£…é¥°æ˜Ÿæ˜Ÿ -->
  <view class="star star-1">ğŸŒŸ</view>
  <view class="star star-2">âœ¨</view>

  <!-- æ ¸å¿ƒç­”æ¡ˆåŒº -->
  <view class="answer-section">
    <view class="answer-card">
      <view class="answer-text gradient-text">ã€Œ {{answer}} ã€</view>
    </view>
  </view>

  <!-- åˆ†éš”çº¿ -->
  <view class="divider">
    <view class="divider-line"></view>
  </view>

  <!-- ç”¨æˆ·å¿ƒå£° -->
  <view class="thought-section" wx:if="{{userThought}}">
    <view class="thought-label">ä½ çš„å¿ƒå£°</view>
    <view class="thought-content">{{userThought}}</view>
  </view>

  <!-- AIè§£è¯»åŒº -->
  <view class="analysis-section">
    <view class="analysis-header" bindtap="onAnalysisToggle">
      <view class="analysis-icon">{{analysisExpanded ? 'ğŸ”¥' : 'ğŸ’¬'}}</view>
      <view class="analysis-title">ä¹¦çµè§£è¯»</view>
      <view class="analysis-arrow">{{analysisExpanded ? 'â–²' : 'â–¼'}}</view>
    </view>

    <view class="analysis-content {{analysisExpanded ? 'expanded' : ''}}">
      <view class="analysis-text">{{displayedAnalysis}}</view>
      <view class="cursor {{isTyping ? 'blinking' : 'hidden'}}"></view>
    </view>
  </view>

  <!-- æ“ä½œæŒ‰é’® -->
  <view class="action-buttons">
    <view class="btn btn-secondary" bindtap="onAskAgain">
      <text>å†é—®ä¸€æ¬¡</text>
    </view>
    <view class="btn btn-primary" bindtap="onGenerateCard">
      <text>ç”Ÿæˆå¡ç‰‡</text>
    </view>
  </view>

  <!-- æ—¶é—´æˆ³ -->
  <view class="timestamp">è®°å½•äº {{timestamp}}</view>
</view>
