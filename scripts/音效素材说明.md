# 音效素材说明

## 概述
项目中使用音效增强用户体验，特别是在长按交互时的翻书效果。

## 所需音效文件

### 1. 翻书音效 (page-flip.mp3)
- **位置**: `/program/miniprogram/assets/audio/page-flip.mp3`
- **时长**: 建议 0.1-0.2秒
- **音量**: 中等偏小
- **描述**: 清脆的书页翻动声，可以是纸张摩擦或轻柔的"唰"声
- **循环**: 是（每0.1秒触发一次）

### 2. 背景氛围音效 (ambient.mp3) - 可选
- **位置**: `/program/miniprogram/assets/audio/ambient.mp3`
- **时长**: 可循环
- **音量**: 很小（背景音）
- **描述**: 轻柔的水流声、冥想氛围音乐或白噪音
- **循环**: 是

### 3. 结果揭晓音效 (reveal.mp3) - 可选
- **位置**: `/program/miniprogram/assets/audio/reveal.mp3`
- **时长**: 1-2秒
- **音量**: 中等
- **描述**: 神秘、庄重的音效，如钟声、水滴声或魔法音效
- **循环**: 否

## 如何启用音效

目前音效功能已在代码中预留，但默认关闭。要启用音效：

### 修改 home.ts

在 `startPageFlip()` 方法中取消注释：

```typescript
startPageFlip() {
  let flipCount = 0
  this.pageFlipTimer = setInterval(() => {
    const currentPage = flipCount % 5
    this.setData({ currentPage })
    
    // 取消下面两行的注释启用翻书音效
    // this.playPageSound()
    
    flipCount++
  }, 100)
}
```

然后添加播放方法：

```typescript
// 播放翻书音效
playPageSound() {
  const audio = wx.createInnerAudioContext()
  audio.src = '/assets/audio/page-flip.mp3'
  audio.volume = 0.3
  audio.play()
  audio.onEnded(() => {
    audio.destroy()
  })
}
```

## 音效素材推荐网站

### 免费音效库
- **Freesound.org** - 需要注册，大量免费音效
- **Zapsplat.com** - 免费下载，需要注册
- **SoundBible.com** - 完全免费

### 付费音效库（质量更高）
- **AudioJungle** - Envato旗下
- **Epidemic Sound**
- **Artlist.io**

## 注意事项

1. **文件格式**: 小程序支持 mp3、aac、m4a 等格式，推荐使用 mp3
2. **文件大小**: 建议每个音效文件小于 50KB，避免影响加载速度
3. **兼容性**: 测试不同手机的音效播放效果
4. **用户体验**: 
   - 音量不宜过大，避免打扰用户
   - 提供静音选项（可在后续版本添加）
5. **性能**: 
   - 使用 `InnerAudioContext` 而非 `BackgroundAudioManager`
   - 及时销毁音频对象，避免内存泄漏

## 目录结构

创建以下目录存放音效：

```
program/miniprogram/
└── assets/
    └── audio/
        ├── page-flip.mp3      # 翻书音效
        ├── ambient.mp3        # 背景音（可选）
        └── reveal.mp3         # 揭晓音效（可选）
```

## 替代方案

如果暂时没有音效文件，当前版本已经通过震动反馈提供了足够的交互反馈。震动配合翻书动画和禅语切换，已经能够营造良好的沉浸感。
