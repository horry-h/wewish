# 快速开始指南

## 🚀 5分钟上手

### 1. 打开项目
1. 启动**微信开发者工具**
2. 点击"导入项目"
3. 选择目录: `/Users/horryhuang/WeChatProjects/wewish/program`
4. 确认导入

### 2. 编译运行
- 工具会自动编译TypeScript和LESS
- 查看编译器输出,确保无错误
- 点击"编译"按钮或使用快捷键(⌘B / Ctrl+B)

### 3. 体验流程
#### 在模拟器中
1. 点击任意一个问题分类(如"情感"💕)
2. 长按中央的🔮按钮(至少2秒)
3. 松开后查看答案
4. 点击"书灵解读"展开AI文案
5. 点击"再问一次"返回首页

#### 在真机上(推荐)
- 点击工具栏的"预览"
- 使用微信扫码
- 体验完整的震动反馈效果

---

## 📁 核心文件导航

### 需要修改时查看这些文件:

| 想要修改... | 编辑文件 |
|-----------|---------|
| 答案内容 | `miniprogram/utils/answers.ts` → `answerPool` |
| 禅语文案 | `miniprogram/utils/answers.ts` → `zenQuotes` |
| AI解读模板 | `miniprogram/pages/result/result.ts` → `getMockAnalysis()` |
| 每日签文 | `miniprogram/utils/answers.ts` → `dailyFortunes` |
| 问题分类 | `miniprogram/pages/home/home.ts` → `categories` |
| 全局颜色 | `miniprogram/app.less` |
| 首页样式 | `miniprogram/pages/home/home.less` |
| 交互动画 | `miniprogram/pages/seeking/seeking.less` |
| 结果页样式 | `miniprogram/pages/result/result.less` |

---

## 🎨 快速定制

### 修改主题颜色
打开 `miniprogram/app.less`:
```less
page {
  /* 修改背景渐变 */
  background: linear-gradient(180deg, #0a0e27 0%, #1a1e3a 100%);
}

/* 修改金色系渐变 */
.gradient-text {
  background: linear-gradient(135deg, #ffd89b 0%, #19547b 100%);
}
```

### 添加新的答案
打开 `miniprogram/utils/answers.ts`:
```typescript
export const answerPool: Record<string, string[]> = {
  emotion: [
    '勇敢表达', 
    '保持沉默', 
    '你的新答案', // ← 添加在这里
    // ...
  ]
}
```

### 修改长按时间
打开 `miniprogram/pages/seeking/seeking.ts`:
```typescript
// 找到这一行,修改2000(单位:毫秒)
if (pressDuration < 2000) {
```

### 添加新的问题类型
1. 打开 `miniprogram/pages/home/home.ts`:
```typescript
categories: [
  { key: 'emotion', name: '情感', icon: '💕' },
  { key: 'health', name: '健康', icon: '🏥' }, // ← 新增
]
```

2. 在 `miniprogram/utils/answers.ts` 中添加对应答案池:
```typescript
export const answerPool: Record<string, string[]> = {
  health: ['早睡早起', '多喝水', '规律运动'], // ← 新增
}
```

---

## 🔧 常用调试技巧

### 查看Console输出
- 在代码中添加: `console.log('调试信息', data)`
- 在开发者工具的"Console"标签查看

### 查看页面数据
- 点击工具栏的"调试器"
- 选择"AppData"标签
- 实时查看`this.data`的值

### 模拟震动效果
- 震动功能在模拟器上无效
- 必须使用真机预览
- 确保手机开启震动功能

### 调试样式
- 使用"WXML"标签查看DOM结构
- 使用"Styles"面板实时修改样式
- 修改后记得同步到源码

---

## 📱 真机调试步骤

1. 点击顶部工具栏的"预览"按钮
2. 用微信扫描二维码
3. 在手机上打开小程序
4. 体验完整功能(震动/音效)

**注意事项**:
- 确保电脑和手机在同一网络
- 首次需要验证开发者身份
- 预览版本有效期24小时

---

## 🐛 常见问题解决

### Q: 编译报错 "找不到模块"
**A**: 
1. 检查`tsconfig.json`配置
2. 重启微信开发者工具
3. 清除缓存后重新编译

### Q: 页面空白/样式错乱
**A**:
1. 检查`.less`文件是否有语法错误
2. 确认`app.json`中页面路径正确
3. 查看Console是否有报错

### Q: 点击按钮无响应
**A**:
1. 检查`bind:tap`事件绑定是否正确
2. 确认方法名拼写无误
3. 在方法中添加`console.log`确认是否被调用

### Q: 震动不工作
**A**:
- 震动API仅在真机上有效
- 模拟器无法模拟震动
- 使用"预览"功能在真机测试

### Q: 修改代码后没有生效
**A**:
1. 点击"编译"按钮(⌘B)
2. 或勾选"文件保存时自动编译"
3. 清除缓存后重新编译

---

## 📚 推荐学习资源

### 官方文档
- [微信小程序开发文档](https://developers.weixin.qq.com/miniprogram/dev/framework/)
- [微信小程序API](https://developers.weixin.qq.com/miniprogram/dev/api/)
- [微信小程序组件](https://developers.weixin.qq.com/miniprogram/dev/component/)

### 本项目相关
- `scripts/设计稿描述.md` - 视觉设计详解
- `scripts/交互逻辑.md` - 交互流程详解
- `scripts/AI_Prompt策略.md` - AI解读策略
- `README.md` - 项目总体说明

---

## 🎯 下一步建议

### 如果你是开发者
1. 阅读 `scripts/交互逻辑.md` 理解核心流程
2. 查看 `miniprogram/pages/seeking/seeking.ts` 学习动画实现
3. 尝试添加新的问题分类和答案

### 如果你是设计师
1. 阅读 `scripts/设计稿描述.md` 了解视觉规范
2. 修改 `app.less` 和各页面的 `.less` 文件定制样式
3. 提供音效素材和分享卡片设计

### 如果你是产品经理
1. 阅读 `README.md` 了解项目全貌
2. 查看 `scripts/项目交付说明.md` 了解功能清单
3. 规划后续功能迭代(参考"待完善功能清单")

---

## 💡 快速命令

### 微信开发者工具快捷键
- `⌘B` (Ctrl+B) - 编译
- `⌘S` (Ctrl+S) - 保存
- `⌘R` (Ctrl+R) - 刷新模拟器
- `⌘⇧I` (Ctrl+Shift+I) - 打开调试器

### 代码编辑
- `⌘F` (Ctrl+F) - 文件内搜索
- `⌘⇧F` (Ctrl+Shift+F) - 全局搜索
- `⌘D` (Ctrl+D) - 选中相同文本
- `⌘/` (Ctrl+/) - 注释/取消注释

---

## ✅ 验收检查清单

在提交之前,确保以下功能正常:

- [ ] 首页能正常显示每日一签
- [ ] 5个问题分类都能点击选中
- [ ] 未选择分类时点击按钮有提示
- [ ] 长按按钮能进入交互页
- [ ] 交互页有书页翻动动画
- [ ] 进度条正常显示
- [ ] 禅语能自动切换
- [ ] 长按不足2秒有提示
- [ ] 长按2秒以上松开能跳转结果页
- [ ] 结果页答案正常显示
- [ ] 点击"书灵解读"能展开AI文案
- [ ] AI文案有打字机效果
- [ ] 点击"再问一次"能返回首页
- [ ] 真机上震动反馈正常

---

**祝开发顺利!** 🎉

如有问题,请查看 `README.md` 或各文档,或联系项目负责人。
